{% extends "base.html" %}

{% block content %}

<div class="table-responsive">
    <p class="mt-5">
        <div class="container">
            <h1>Posts</h1>

            <form action="{% url 'searchbar' %}" method="GET" value="{{request.GET.q}}">
                Search <input type="text" name="q" value="{{request.GET.q}}" placeholder="Search posts"/>
                <input type="submit" name="submit" value="Search"/>
            </form>


        </div>
      <table class="table table-dark table-striped mt-4">
        {% for post in posts %} {% if forloop.first %}
            <thead>
                <tr>
                    <th class="col-4">Post</th>
                    <th>User</th>
                    <th>Image</th>
                    <th></th>
                    <th></th>
                </thead>
{%endif%}
                </tr>
                 <td class="lead text-light">{{post.title}}</td>
                 <td class="lead text-light"><a href="{% url 'userPage' post.user.id %}">{{post.user}}</a></td>
                 <td> {% if post.image %} <a href="{% url 'post' post.id%}"><img style="width: 140px; height: 80px" src="{{post.image.url}}" alt="default.jpg" class="img-thumbnail"></a> {% endif %}</td>
                
        {% endfor %}
        </table>
            </div>

{% endblock content %}